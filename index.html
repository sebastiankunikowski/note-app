<!DOCTYPE html>
<html lang="pl" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Notatki - Material You</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body
    class="bg-light-background dark:bg-dark-background text-light-on-background dark:text-dark-on-background antialiased"
  >
      <header class="sticky top-0 z-50 w-full bg-light-surface dark:bg-dark-surface p-4 shadow-md flex justify-center">
        <div class="relative w-full max-w-3xl">
          <span class="material-symbols-outlined absolute inset-y-0 left-3 flex items-center pointer-events-none text-light-on-surface-variant dark:text-dark-on-surface-variant">search</span>
          <input type="text" id="search-input" placeholder="Szukaj..." class="w-full pl-10 pr-10 py-2.5 text-sm bg-light-surface-variant dark:bg-dark-surface-variant border-none rounded-full focus:ring-2 focus:ring-light-primary dark:focus:ring-dark-primary text-light-on-surface dark:text-dark-on-surface placeholder-light-on-surface-variant dark:placeholder-dark-on-surface-variant" />
          <button id="view-toggle" type="button" class="absolute inset-y-0 right-3 flex items-center p-1.5 rounded-full text-light-on-surface-variant dark:text-dark-on-surface-variant hover:bg-light-surface-variant dark:hover:bg-dark-surface-variant">
            <span class="material-symbols-outlined">view_agenda</span>
          </button>
          <div id="search-suggestions" class="absolute left-0 right-0 mt-1 bg-light-surface dark:bg-dark-surface border border-light-outline dark:border-dark-outline rounded-lg shadow-lg text-sm hidden max-h-60 overflow-y-auto z-50"></div>
        </div>
      </header>
    <div class="flex flex-col md:flex-row min-h-screen">
      <aside
        id="sidebar"
        class="fixed inset-y-0 left-0 z-40 w-72 bg-light-surface dark:bg-dark-surface shadow-lg md:shadow-none md:relative md:translate-x-0 transform -translate-x-full md:flex md:flex-col p-4 border-r border-light-outline dark:border-dark-outline"
      >
        <div class="flex items-center mb-6 pt-2 md:pt-0">
          <span
            class="material-symbols-outlined text-3xl text-light-primary dark:text-dark-primary mr-2"
            >library_books</span
          >
          <h1
            class="text-xl font-semibold text-light-on-surface dark:text-dark-on-surface"
          >
            Moje Notatki
          </h1>
        </div>
        <nav class="flex-grow space-y-2">
          <h2 class="text-xs font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant uppercase tracking-wider px-2 mb-2">Foldery</h2>
          <a href="#" class="folder-button active-filter flex items-center px-3 py-2.5 rounded-full text-sm font-medium text-light-on-surface dark:text-dark-on-surface bg-light-primary-container dark:bg-dark-primary-container" data-folder="active">
            <span class="material-symbols-outlined mr-3 text-light-on-primary-container dark:text-dark-on-primary-container">note</span>
            Notatki
          </a>
          <a href="#" class="folder-button flex items-center px-3 py-2.5 rounded-full text-sm font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant hover:bg-light-surface-variant dark:hover:bg-dark-surface-variant" data-folder="archive">
            <span class="material-symbols-outlined mr-3">inventory_2</span> Archiwum
          </a>
          <a href="#" class="folder-button flex items-center px-3 py-2.5 rounded-full text-sm font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant hover:bg-light-surface-variant dark:hover:bg-dark-surface-variant" data-folder="trash">
            <span class="material-symbols-outlined mr-3">delete</span> Kosz
          </a>

          <h2
            class="text-xs font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant uppercase tracking-wider px-2 pt-4 mb-2"
          >
            Filtry
          </h2>

          <a
            href="#"
            class="filter-type-button active-filter flex items-center px-3 py-2.5 rounded-full text-sm font-medium text-light-on-surface dark:text-dark-on-surface bg-light-primary-container dark:bg-dark-primary-container"
            data-filter="all"
          >
            <span
              class="material-symbols-outlined mr-3 text-light-on-primary-container dark:text-dark-on-primary-container"
              >list</span
            >
            Wszystkie
          </a>
          <a
            href="#"
            class="filter-type-button flex items-center px-3 py-2.5 rounded-full text-sm font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant hover:bg-light-surface-variant dark:hover:bg-dark-surface-variant"
            data-filter="text"
          >
            <span class="material-symbols-outlined mr-3">article</span> Tekstowe
          </a>
          <a
            href="#"
            class="filter-type-button flex items-center px-3 py-2.5 rounded-full text-sm font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant hover:bg-light-surface-variant dark:hover:bg-dark-surface-variant"
            data-filter="voice"
          >
            <span class="material-symbols-outlined mr-3">mic</span> Głosowe
          </a>

          <h3
            class="text-xs font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant uppercase tracking-wider px-2 pt-4 mb-1"
          >
            Tagi
          </h3>
          <div
            id="tag-filter"
            class="space-y-1 max-h-60 overflow-y-auto px-1"
          ></div>
        </nav>
        <div class="mt-auto pt-4">
          <button
            id="theme-toggle"
            class="w-full flex items-center justify-start p-3 rounded-full text-sm text-light-on-surface-variant dark:text-dark-on-surface-variant hover:bg-light-surface-variant dark:hover:bg-dark-surface-variant transition-colors"
          >
            <span class="material-symbols-outlined mr-3"></span>
            <span id="theme-toggle-text"></span>
          </button>
        </div>
      </aside>
      <div
        id="sidebar-overlay"
        class="fixed inset-0 bg-black/30 z-30 hidden md:hidden"
        onclick="toggleSidebar()"
      ></div>

      <main class="flex-1 p-4 md:p-6 lg:p-8 overflow-y-auto pb-24 md:pb-8">
        <div id="pinned-section" class="mb-6 hidden">
          <h2 class="mb-3 text-light-on-surface dark:text-dark-on-surface font-medium text-lg">
            Przypięte
          </h2>
          <div
            id="pinned-notes-container"
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6"
          ></div>
        </div>
        <div id="notes-divider" class="border-t border-light-outline dark:border-dark-outline my-6 hidden"></div>
        <h2
          id="others-header"
          class="mb-3 text-light-on-surface dark:text-dark-on-surface font-medium text-lg hidden"
        >
          Inne
        </h2>
        <div
          id="notes-container"
          class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6"
        ></div>

        <div
          id="empty-state"
          class="text-center py-16 hidden flex-col items-center justify-center h-full"
        >
          <span
            class="material-symbols-outlined text-8xl mb-6 text-light-surface-variant dark:text-dark-surface-variant"
            >lightbulb</span
          >
          <h3
            class="text-xl font-medium text-light-on-surface dark:text-dark-on-surface mb-2"
          >
            Notatki, które tu dodasz, pojawią się tutaj
          </h3>
          <p
            class="text-light-on-surface-variant dark:text-dark-on-surface-variant mb-6 max-w-xs"
          >
            Zacznij od utworzenia swojej pierwszej notatki używając przycisku +
          </p>
        </div>
      </main>
    </div>

    <div
      class="fixed bottom-0 left-0 right-0 md:hidden h-16 bg-light-surface dark:bg-dark-surface border-t border-light-outline dark:border-dark-outline flex items-center justify-between px-4 shadow-m3-light dark:shadow-m3-dark z-20"
    >
      <button
        id="menu-button"
        class="p-2 text-light-on-surface dark:text-dark-on-surface"
        onclick="toggleSidebar()"
      >
        <span class="material-symbols-outlined">menu</span>
      </button>
      <div class="relative">
        <div
          id="fab-menu"
          class="absolute bottom-full right-0 mb-3 space-y-2 opacity-0 transform scale-95 pointer-events-none"
        >
          <button
            id="add-voice-note-fab"
            class="w-max flex items-center bg-light-secondary-container dark:bg-dark-secondary-container text-light-on-secondary-container dark:text-dark-on-secondary-container px-4 py-2.5 rounded-xl shadow-md hover:shadow-lg transition-shadow text-sm font-medium"
          >
            <span class="material-symbols-outlined mr-2">mic</span> Nagraj głos
          </button>
          <button
            id="add-text-note-fab"
            class="w-max flex items-center bg-light-tertiary-container dark:bg-dark-tertiary-container text-light-on-tertiary-container dark:text-dark-on-tertiary-container px-4 py-2.5 rounded-xl shadow-md hover:shadow-lg transition-shadow text-sm font-medium"
          >
            <span class="material-symbols-outlined mr-2">edit_note</span>
            Notatka tekstowa
          </button>
        </div>
        <button
          id="fab"
          class="bg-light-primary dark:bg-dark-primary text-white dark:text-black p-4 rounded-2xl shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-light-primary dark:focus:ring-dark-primary dark:focus:ring-offset-dark-surface transition-all duration-150"
        >
          <span
            class="material-symbols-outlined transform transition-transform duration-300"
            >add</span
          >
        </button>
      </div>
    </div>
    <div class="hidden md:block fixed bottom-8 right-8 z-20">
      <div class="relative">
        <div
          id="fab-menu-desktop"
          class="absolute bottom-full right-0 mb-3 space-y-2 opacity-0 transform scale-95 pointer-events-none"
        >
          <button
            id="add-voice-note-fab-desktop"
            class="w-max flex items-center bg-light-secondary-container dark:bg-dark-secondary-container text-light-on-secondary-container dark:text-dark-on-secondary-container px-4 py-2.5 rounded-xl shadow-md hover:shadow-lg transition-shadow text-sm font-medium"
          >
            <span class="material-symbols-outlined mr-2">mic</span> Nagraj głos
          </button>
          <button
            id="add-text-note-fab-desktop"
            class="w-max flex items-center bg-light-tertiary-container dark:bg-dark-tertiary-container text-light-on-tertiary-container dark:text-dark-on-tertiary-container px-4 py-2.5 rounded-xl shadow-md hover:shadow-lg transition-shadow text-sm font-medium"
          >
            <span class="material-symbols-outlined mr-2">edit_note</span>
            Notatka tekstowa
          </button>
        </div>
        <button
          id="fab-desktop"
          class="bg-light-primary dark:bg-dark-primary text-white dark:text-black p-4 rounded-2xl shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-light-primary dark:focus:ring-dark-primary dark:focus:ring-offset-dark-surface transition-all duration-150"
        >
          <span
            class="material-symbols-outlined transform transition-transform duration-300"
            >add</span
          >
        </button>
      </div>
    </div>

    <div
      id="note-modal"
      class="fixed inset-0 bg-black/50 dark:bg-black/70 hidden z-50 flex items-center justify-center p-4 backdrop-blur-sm"
    >
      <div
        class="bg-light-surface dark:bg-dark-surface rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col shadow-xl"
      >
        <div
          class="px-6 py-4 border-b border-light-outline dark:border-dark-outline"
        >
          <div class="flex items-center justify-between">
            <h2
              id="modal-title"
              class="text-lg font-medium text-light-on-surface dark:text-dark-on-surface"
            >
              Nowa notatka
            </h2>
            <button
              id="close-modal"
              class="p-2 text-light-on-surface-variant dark:text-dark-on-surface-variant hover:bg-light-surface-variant dark:hover:bg-dark-surface-variant rounded-full"
            >
              <span class="material-symbols-outlined">close</span>
            </button>
          </div>
        </div>

        <div class="px-6 py-5 overflow-y-auto flex-grow">
          <div id="text-note-form">
            <div class="mb-5">
              <label
                class="block text-xs font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant mb-1"
                >Tytuł</label
              >
              <input
                type="text"
                id="note-title"
                class="w-full px-4 py-2.5 border border-light-outline dark:border-dark-outline rounded-lg bg-light-surface dark:bg-dark-surface focus:ring-2 focus:ring-light-primary dark:focus:ring-dark-primary focus:border-light-primary dark:focus:border-dark-primary text-light-on-surface dark:text-dark-on-surface text-sm"
              />
            </div>
            <div class="mb-5">
              <label
                class="block text-xs font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant mb-1"
                >Treść</label
              >
              <textarea
                id="note-content"
                rows="8"
                class="w-full px-4 py-2.5 border border-light-outline dark:border-dark-outline rounded-lg bg-light-surface dark:bg-dark-surface focus:ring-2 focus:ring-light-primary dark:focus:ring-dark-primary focus:border-light-primary dark:focus:border-dark-primary resize-none text-light-on-surface dark:text-dark-on-surface text-sm"
              ></textarea>
            </div>
          </div>

          <div
            id="voice-note-form"
            class="hidden flex flex-col items-center justify-center h-full"
          >
            <div class="w-full mb-5">
              <label
                class="block text-xs font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant mb-1"
                >Tytuł</label
              >
              <input
                type="text"
                id="voice-note-title"
                class="w-full px-4 py-2.5 border border-light-outline dark:border-dark-outline rounded-lg bg-light-surface dark:bg-dark-surface focus:ring-2 focus:ring-light-primary dark:focus:ring-dark-primary focus:border-light-primary dark:focus:border-dark-primary text-light-on-surface dark:text-dark-on-surface text-sm"
              />
            </div>

            <div
              class="text-center mb-6 flex-grow flex flex-col items-center justify-center"
            >
              <div id="recording-status" class="mb-4">
                <button
                  id="record-button"
                  class="flex items-center justify-center w-20 h-20 bg-light-error dark:bg-dark-error hover:opacity-90 rounded-full text-white cursor-pointer transition-opacity"
                >
                  <span class="material-symbols-outlined text-4xl">mic</span>
                </button>
                <p
                  class="mt-3 text-sm text-light-on-surface-variant dark:text-dark-on-surface-variant"
                >
                  Naciśnij, aby nagrać
                </p>
              </div>

              <div
                id="recording-controls"
                class="hidden items-center justify-center space-x-4"
              >
                <div
                  id="recording-timer"
                  class="text-lg font-mono text-light-error dark:text-dark-error mr-2 tabular-nums"
                >
                  00:00
                </div>
                <button
                  id="pause-recording"
                  class="p-3 bg-light-secondary-container dark:bg-dark-secondary-container text-light-on-secondary-container dark:text-dark-on-secondary-container rounded-full hover:opacity-90"
                >
                  <span class="material-symbols-outlined">pause</span>
                </button>
                <button
                  id="stop-recording"
                  class="p-3 bg-light-error-container dark:bg-dark-error-container text-light-on-error-container dark:text-dark-on-error-container rounded-full hover:opacity-90"
                >
                  <span class="material-symbols-outlined">stop</span>
                </button>
              </div>
            </div>

            <div id="audio-playback" class="hidden w-full mt-4">
              <audio id="recorded-audio" controls class="w-full mb-3"></audio>
              <div class="text-center">
                <button
                  id="re-record"
                  class="px-5 py-2.5 bg-light-surface-variant dark:bg-dark-surface-variant text-light-on-surface-variant dark:text-dark-on-surface-variant rounded-full hover:opacity-90 text-sm font-medium flex items-center justify-center mx-auto"
                >
                  <span class="material-symbols-outlined mr-2 text-sm"
                    >refresh</span
                  >
                  Nagraj ponownie
                </button>
              </div>
            </div>
          </div>

          <div class="mt-3">
            <label
              class="block text-xs font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant mb-1.5"
              >Tagi</label
            >
            <div
              id="tag-chip-input-container"
              class="flex flex-wrap gap-2 p-2.5 border border-light-outline dark:border-dark-outline rounded-lg mb-2 min-h-[44px]"
            ></div>
            <input
              type="text"
              id="note-tags-input"
              placeholder="Wpisz tag i naciśnij Enter"
              class="w-full px-4 py-2.5 border border-light-outline dark:border-dark-outline rounded-lg bg-light-surface dark:bg-dark-surface focus:ring-2 focus:ring-light-primary dark:focus:ring-dark-primary focus:border-light-primary dark:focus:border-dark-primary text-light-on-surface dark:text-dark-on-surface text-sm"
            />
          </div>

          <div class="mt-5">
            <label
              class="block text-xs font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant mb-1"
              >Przypomnienie</label
            >
            <input
              type="datetime-local"
              id="note-reminder"
              class="w-full px-4 py-2.5 border border-light-outline dark:border-dark-outline rounded-lg bg-light-surface dark:bg-dark-surface focus:ring-2 focus:ring-light-primary dark:focus:ring-dark-primary focus:border-light-primary dark:focus:border-dark-primary text-light-on-surface dark:text-dark-on-surface text-sm"
            />
          </div>

          <div class="mt-5">
            <label class="inline-flex items-center cursor-pointer group">
              <input type="checkbox" id="note-favorite" class="sr-only peer" />
              <span
                class="material-symbols-outlined text-light-on-surface-variant dark:text-dark-on-surface-variant peer-checked:text-yellow-500 dark:peer-checked:text-yellow-400"
                >star</span
              >
              <span
                class="ml-2 text-sm text-light-on-surface-variant dark:text-dark-on-surface-variant group-hover:text-light-on-surface dark:group-hover:text-dark-on-surface"
                >Oznacz jako ważną</span
              >
            </label>
          </div>

          <div class="mt-5">
            <label class="inline-flex items-center cursor-pointer group">
              <input type="checkbox" id="note-pinned" class="sr-only peer" />
              <span
                class="material-symbols-outlined text-light-on-surface-variant dark:text-dark-on-surface-variant peer-checked:text-light-primary dark:peer-checked:text-dark-primary -rotate-45"
                >push_pin</span
              >
              <span
                class="ml-2 text-sm text-light-on-surface-variant dark:text-dark-on-surface-variant group-hover:text-light-on-surface dark:group-hover:text-dark-on-surface"
                >Przypnij notatkę</span
              >
            </label>
          </div>

          <div class="mt-5">
            <label
              class="block text-xs font-medium text-light-on-surface-variant dark:text-dark-on-surface-variant mb-1"
              >Kolor karty</label
            >
            <div id="note-color-options" class="flex space-x-2">
              <button class="color-option note-color-default" data-color="default" title="Domyślny"></button>
              <button class="color-option note-color-red" data-color="red" title="Czerwony"></button>
              <button class="color-option note-color-orange" data-color="orange" title="Pomarańczowy"></button>
              <button class="color-option note-color-yellow" data-color="yellow" title="Żółty"></button>
              <button class="color-option note-color-green" data-color="green" title="Zielony"></button>
              <button class="color-option note-color-blue" data-color="blue" title="Niebieski"></button>
              <button class="color-option note-color-purple" data-color="purple" title="Fioletowy"></button>
            </div>
          </div>
        </div>

        <div
          class="px-6 py-4 border-t border-light-outline dark:border-dark-outline flex justify-end space-x-3"
        >
          <button
            id="cancel-note"
            class="px-5 py-2.5 text-sm font-medium text-light-primary dark:text-dark-primary hover:bg-light-primary/10 dark:hover:bg-dark-primary/10 rounded-full transition-colors"
          >
            Anuluj
          </button>
          <button
            id="save-note"
            class="px-6 py-2.5 text-sm font-medium bg-light-primary dark:bg-dark-primary text-white dark:text-dark-background rounded-full hover:opacity-90 transition-opacity"
          >
            Zapisz
          </button>
        </div>
      </div>
    </div>

    <div
      id="confirm-modal"
      class="fixed inset-0 bg-black/50 dark:bg-black/70 hidden z-[60] flex items-center justify-center p-4 backdrop-blur-sm"
    >
      <div
        class="bg-light-surface dark:bg-dark-surface rounded-3xl max-w-sm w-full p-6 shadow-xl"
      >
        <h3
          class="text-lg font-medium text-light-on-surface dark:text-dark-on-surface mb-3"
        >
          Potwierdź akcję
        </h3>
        <p
          id="confirm-message"
          class="text-sm text-light-on-surface-variant dark:text-dark-on-surface-variant mb-6"
        ></p>
        <div class="flex justify-end space-x-3">
          <button
            id="confirm-cancel"
            class="px-5 py-2.5 text-sm font-medium text-light-secondary dark:text-dark-secondary hover:bg-light-secondary/10 dark:hover:bg-dark-secondary/10 rounded-full transition-colors"
          >
            Anuluj
          </button>
          <button
            id="confirm-delete"
            class="px-5 py-2.5 text-sm font-medium bg-light-error dark:bg-dark-error text-white dark:text-dark-background rounded-full hover:opacity-90 transition-opacity"
          >
            Usuń
          </button>
        </div>
      </div>
    </div>

    <div
      id="toast-container"
      class="fixed bottom-4 md:bottom-auto md:top-6 left-1/2 -translate-x-1/2 md:left-auto md:right-6 md:-translate-x-0 z-[100] space-y-2 w-auto max-w-[calc(100%-2rem)]"
    ></div>
    <script type="module" src="js/config.js"></script>
    <script type="module" src="js/app.js"></script>

  </body>
</html>
